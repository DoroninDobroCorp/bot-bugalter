# ID Matches Bot - Команды

## Основные команды

### `/init_ids`
**Включает/выключает** чат для рассылки кодов.
- При вызове из ветки/топика - автоматически устанавливает этот топик для отправки кодов
- При повторном вызове - отключает чат

### `/idchat`
Показывает ID текущего чата и ветки (если есть)

### `/set_ids_topic`
**Устанавливает** топик/ветку для отправки кодов в этом чате.
- Команда должна быть отправлена **из той ветки**, куда вы хотите отправлять коды
- После установки все коды будут отправляться в эту ветку, независимо от того, откуда пришло сообщение с фото/"лайв"/"прематч"

### `/unset_ids_topic`
**Сбрасывает** настройку топика для этого чата.
- После сброса коды будут отправляться в ответ на сообщение (в ту же ветку, откуда пришло сообщение)

### `/show_ids_config`
**Показывает** текущую конфигурацию для чата:
- Включен ли чат для рассылки
- Установлен ли топик для кодов
- ID текущей ветки

## Генерация кодов

Бот генерирует коды при:
1. Отправке **фото** в активированном чате
2. Отправке текста **"лайв"** или **"прематч"** (регистр не важен)

## Примеры использования

### Настройка чата с ветками

1. Зайдите в **ветку**, куда хотите получать коды
2. Отправьте `/init_ids` - это включит чат и установит текущую ветку
3. Проверьте настройки: `/show_ids_config`

### Смена ветки для кодов

1. Зайдите в **другую ветку**
2. Отправьте `/set_ids_topic`
3. Теперь все коды будут приходить в эту ветку

### Отключение топика

1. Отправьте `/unset_ids_topic` из любого места в чате
2. Теперь коды будут отправляться в ответ на сообщение (в ту же ветку, откуда пришло фото)

## Технические детали

- **chats.json** - список активных чатов
- **topics.json** - привязка чатов к конкретным веткам
- Бот проверяет наличие `message_thread_id` для определения, что команда из ветки
